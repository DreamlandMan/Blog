 Redis是一个开源（BSD许可），内存存储的数据结构服务器，可用作**数据库**，**高速缓存**和**消息队列代理**。它支持字符串、哈希表、列表、集合、有序集合，位图，hyperloglogs等数据类型。内置复制、Lua脚本、LRU收回、事务以及不同级别磁盘持久化功能，同时通过Redis Sentinel提供高可用，通过Redis Cluster提供自动分区。

### Redis-key

- 在redis中无论什么数据类型，在数据库中都是以key-value形式保存，通过进行对Redis-key的操作，来完成对数据库中数据的操作。

- 按**tab**会提示命令

- redis所有命令**关键字忽略大小写**

- |          命令           |                             描述                             |
  | :---------------------: | :----------------------------------------------------------: |
  |     **exists key**      |                        判断键是否存在                        |
  |       **keys ***        |                 查看当前数据库中所有的key。                  |
  |      **type key**       |                     查看value的数据类型                      |
  |       **del key**       |                          删除键值对                          |
  |       **flushdb**       |                  清空当前数据库中的键值对。                  |
  |      **flushall**       |                   清空所有数据库的键值对。                   |
  |     **move key db**     |                   将键值对移动到指定数据库                   |
  |  **expire key second**  |                  设置键值对的过期时，单位秒                  |
  |       **ttl key**       | 返回key的过期时间<br />当前key**没有设置**过期时间，所以会返回**-1**<br />当前key**有设置**过期时间，而且key**已经过期**，所以会返回**-2**<br />当前key**有设置**过期时间，且key还**没有过期**，故会返回key的正常**剩余时间** |
  |  **rename key newkey**  |                       修改 key 的名称                        |
  | **renamenx key newkey** |        仅当 newkey 不存在时，将 key 改名为 newkey 。         |

- 如果遇到不会的命令可以在官网查看帮助文档：[Redis命令中心（Redis commands） -- Redis中国用户组（CRUG）](http://www.redis.cn/commands.html)

  ```shell
  127.0.0.1:6379> set name hzc
  OK
  127.0.0.1:6379> set age 13
  OK
  127.0.0.1:6379> keys *
  1) "age"
  2) "name"
  127.0.0.1:6379> move age 1 #将age移动到1号数据库
  (integer) 1
  127.0.0.1:6379> keys *
  1) "name"
  127.0.0.1:6379> select 1 #切换到1号数据库
  OK
  127.0.0.1:6379[1]> keys *
  1) "age"
  127.0.0.1:6379[1]> type age
  string
  127.0.0.1:6379[1]> exists age
  (integer) 1
  127.0.0.1:6379[1]> exists name
  (integer) 0
  127.0.0.1:6379[1]> expire age 10 设置10秒过期
  (integer) 1
  (integer) 1
  127.0.0.1:6379> ttl age #查看还有几秒过期
  (integer) 7
  127.0.0.1:6379> ttl age
  (integer) 2
  127.0.0.1:6379> ttl age
  (integer) -2
  127.0.0.1:6379[1]> exists age
  (integer) 1
  127.0.0.1:6379[1]> exists age
  (integer) 0
  127.0.0.1:6379[1]> ttl age
  (integer) -2
  127.0.0.1:6379[1]> select 0 #切换回默认数据库
  OK
  127.0.0.1:6379> exists name
  (integer) 1
  127.0.0.1:6379> rename name myname #重命名
  OK
  127.0.0.1:6379> keys *
  1) "myname"
  127.0.0.1:6379> renamenx myname name
  (integer) 1
  127.0.0.1:6379> set myname hzcc
  OK
  127.0.0.1:6379> renamenx myname name #重命名时存在目标名称的key，重命名失败
  (integer) 0
  127.0.0.1:6379> DEL myname #删除key
  (integer) 1
  ```

  