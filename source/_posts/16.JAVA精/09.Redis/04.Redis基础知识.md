#### redis默认有16个数据库

- 默认使用的第0个

- 16个数据库为：DB 0~DB 15

  - redis.conf文件中有配置

  ```shell
  # Set the number of databases. The default database is DB 0, you can select
  # a different one on a per-connection basis using SELECT <dbid> where
  # dbid is a number between 0 and 'databases'-1
  databases 16
  ```
  
- 默认使用DB 0 

  - 可以使用**select n**切换到DB n
  - **dbsize**可以查看当前数据库的大小，与key数量相关
  - 各个数据库的key不共享
  
  ```shell
  [root@iZ0jldalqlhwtqori6z48lZ bin]# redis-cli -h 127.0.0.1 -p 6379
  127.0.0.1:6379> ping
  PONG
  127.0.0.1:6379> select 2
  OK
  127.0.0.1:6379[2]> dbsize  #[2]代表使用2号数据库，是第三个
  (integer) 0
  127.0.0.1:6379[1]> select 0
  OK
  127.0.0.1:6379> dbsize
  (integer) 5
  ```
  
- **keys *** ：查看当前数据库中所有的key。

- **flushdb**：清空当前数据库中的键值对。

- **flushall**：清空所有数据库的键值对。

  ```shell
  127.0.0.1:6379> keys *
  1) "mylist:{tag}"
  2) "myhash:{tag}:__rand_int__"
  3) "age"
  4) "name"
  5) "counter:{tag}:__rand_int__"
  6) "key:{tag}:__rand_int__"
  127.0.0.1:6379> flushdb
  OK
  127.0.0.1:6379> keys *
  (empty array)
  ```

#### Redis是单线程的，Redis是基于内存操作的。

- 所以Redis的性能瓶颈不是CPU,而是机器内存和网络带宽。
- 那么为什么Redis的速度如此快呢，性能这么高呢？QPS达到10W+
- redis6加入多线程是为了优化网络IO

#### Redis为什么单线程还这么快？

- 误区1：高性能的服务器一定是多线程的？
- 误区2：多线程（CPU上下文会切换！）一定比单线程效率高！
- 核心：Redis是将所有的数据放在内存中的，所以说使用单线程去操作效率就是最高的，多线程（CPU上下文会切换：耗时的操作！），**对于内存系统来说，如果没有上下文切换效率就是最高的，多次读写都是在一个CPU上的**，在内存存储数据情况下，单线程就是最佳的方案。

