#### Docker安装Tomcat

1. **运行tomcat容器**：docker run -it --rm tomcat:9.0，直接运行，本地没有该镜像会去远程仓库找，--rm参数，一般用于测试，容器停止就被删除（镜像还在），无法再通过docker start命令启动，打印信息跟我们正常在命令行启动tomcat服务器一样
2. **停止tomcat**：Ctrl+C
3. **查看所有容器**：docker ps -a，查看所有容器，发现没有tomcat，因为停止就删除
4. **下载tomcat镜像**：docker pull tomcat:9.0
5. **后台运行tomcat**：docker run -d -p 3355:8080 --name tomcat01 tomcat:9.0
6. **本机测试+外网测试**：localhost:3355，都是404，其实启动成功了，只是tomcat镜像是阉割版的tomcat
7. **进入tomcat容器**：docker exec -it tomcat01 /bin/bash
  1. **查看容器目录**：ls -al，里面就是tomcat的目录，访问报404是因为它的webapps目录是空的，阿里把它不必要的东西都剔除了，保证最小可运行的环境
  2. 查看之后发现，正常的webapps目录中的东西都在webapps.dist文件夹中，现在**为了看见汤姆猫页面**，在tomcat容器根目录把webapps.dist中的文件拷贝到webapps目录：cp -r webapps.dist/* webapps，没有-r拷贝会失败，因为这里不只有文件，还有文件夹，需要递归拷贝
  3. 再次测试访问，可以看见汤姆猫了
8. 思考问题：每次部署项目都要进入容器，十分麻烦。能不能在容器外部提供一个映射路径，webapps，在外部修改，内部会自动同步。如果容器里面有mysql那不就是删库跑路了，这太危险不科学，得解决这个问题。

