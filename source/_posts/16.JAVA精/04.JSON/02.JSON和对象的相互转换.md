#### 导入依赖

```xml
<!--JSON-->
<dependency>
    <groupId>com.alibaba</groupId>
    <artifactId>fastjson</artifactId>
    <version>1.2.79</version>
</dependency>
```



#### 代码

- **Java对象转JSON字符串**
  - JSONObject.toJSONString(Object obj)
  - JSON.toJSONString(Object obj)
- **JSON字符串转Java对象**
  - JSONObject.parseObject(String json, T.class)
  - JSON.parseObject(String json, T.class)

```java
@Test
    void testUser() throws JsonProcessingException {
        User user1 = new User("须朝", 13);
        List<Object> list1 = new ArrayList<>();
        Map<Object, Object> map1 = new HashMap<>();

        String jsonUser1 = JSONObject.toJSONString(user1);
        String jsonList1 = JSONObject.toJSONString(list1);
        String jsonMap1 = JSONObject.toJSONString(map1);

        User user2 = JSONObject.parseObject(jsonUser1, User.class);
        List list2 = JSONObject.parseObject(jsonList1, List.class);
        Map map2 = JSONObject.parseObject(jsonMap1, Map.class);

        String jsonUser2 = JSON.toJSONString(user2);
        String jsonList2 = JSON.toJSONString(list2);
        String jsonMap2 = JSON.toJSONString(map2);

        User user3 = JSON.parseObject(jsonUser2, User.class);
        List list3 = JSON.parseObject(jsonList2, List.class);
        Map map3 = JSON.parseObject(jsonMap2, Map.class);

        System.out.println("---------json字符串-----------");
        System.out.println(jsonUser1);
        System.out.println(jsonUser2);
        System.out.println(jsonList1);
        System.out.println(jsonList2);
        System.out.println(jsonMap1);
        System.out.println(jsonMap2);
        System.out.println("---------对象-----------");
        System.out.println(user1);
        System.out.println(user2);
        System.out.println(user3);
    }
```

### 转换集合

```java
//如果按照上面的写法，在获取list的元素转换成Classes会报错：com.alibaba.fastjson.JSONObject cannot be cast to com.hzc.barter.pojo.Classes
List<Classes> list = JSONObject.parseObject(dto.getData().toString(), List.class);
//转换成集合要使用parseArray方法，这样取集合元素时才不会报错
List<Classes> list = JSONObject.parseArray(dto.getData().toString(), Classes.class);
```

